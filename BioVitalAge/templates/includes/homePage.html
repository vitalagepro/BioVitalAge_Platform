<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BioVitalAge - HomePage</title>

    {% load static %}
    <link rel="stylesheet" href="{% static 'includes/homePage.css' %}" />

    <!-- Bootstrap import -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Import  -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap"
      rel="stylesheet"
    />

    <!-- Js Import -->
    <script src="{% static 'includes/js/app.js' %}" defer></script>

    <!-- Chart Import -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.0.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <header>
      <div class="nav-bar-user-modal" id="userModal">
        <button id="nav-bar-user-modal-btn" class="nav-bar-user-modal-btn">
          log out
        </button>
      </div>

      <nav
        class="col-md-12 d-flex justify-content-between align-items-center nav-bar"
      >
        <div class="col-md-2 d-flex jus nav-bar-logo">
          <img src="{% static 'includes/icone/Logo.png' %}" alt="" />
        </div>
        <div class="col-md-8 nav-bar-linkage">
          <a href="{% url 'HomePage' %}" id="active">HomePage</a>
          <a href="{% url 'Calcolatore' %}">Calcolatore Età Biologica</a>
          <a href="{% url 'Risultati' %}">Ricerca Pazienti</a>
        </div>

        <div class="col-md-2 nav-bar-user">
          <h3>Demo User</h3>

          <div class="img-container-user-nav-bar">
            <img
              id="userImg"
              src="{% static 'includes/icone/username.png' %}"
              alt="user"
            />
          </div>
        </div>
      </nav>
    </header>

    <main>
      <div class="main-title-nav">
        <div class="main-menu-trace">
          <img src="{% static 'includes/icone/homePage.png' %}" alt="" />
          <p>»</p>
          <p>Home Page</p>
        </div>
      </div>

      <section class="banner-section">
        <div class="banner">
          <div class="banner-info">
            <div class="spacer-banner"></div>
            <h2 class="main-welcome-title">Welcome Back, {{ user_name }}</h2>
            <p>Hai visitato <strong>45</strong> pazienti questa settimana</p>
            <p>Di cui <strong>30</strong> con calcolo dell'età biologica</p>
          </div>
          <div class="banner-chart">
            <canvas id="weeklyPatientsChart"></canvas>
          </div>
        </div>
        <div class="cards banner-cards">
          <div class="card">
            <h2>Totale Pazienti Visitati</h2>
            <p>150</p>
            <button onclick="goToPatientsPage()">Vedi Tutti</button>
          </div>
          <div class="card">
            <h2>Totale Pazienti Visitati</h2>
            <p>150</p>
            <button onclick="goToPatientsPage()">Vedi Tutti</button>
          </div>
        </div>
      </section>

      <div class="content">
        <div class="charts-section">
          <div class="chart-container">
            <h3>Andamento Inserimento Pazienti</h3>
            <canvas id="patientsChart"></canvas>
          </div>
          <div class="chart-container">
            <h3>Pazienti Mensili</h3>
            <canvas id="monthlyPatientsChart"></canvas>
            <div id="monthlyTooltip" class="chartjs-tooltip"></div>
          </div>
        </div>

        <div class="cards">
          <div class="card">
            <h2>Totale Pazienti Visitati</h2>
            <p>150</p>
            <button onclick="goToPatientsPage()">Vedi Tutti</button>
          </div>
          <div class="card">
            <h2>Calcoli Età Biologica</h2>
            <p>120</p>
            <button onclick="goToRefertiPage()">Referti</button>
          </div>
          <div class="card">
            <h2>Media Età Pazienti</h2>
            <p>52 anni</p>
          </div>
        </div>

        <div class="recent-patients">
          <h2>Ultimi 5 Pazienti Visitati</h2>
          <table>
            <thead>
              <tr>
                <th>Nome</th>
                <th>Data Visita</th>
                <th>Età</th>
                <th>Età Biologica</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Mario Rossi</td>
                <td>10/12/2024</td>
                <td>50</td>
                <td>48</td>
              </tr>
              <tr>
                <td>Luigi Bianchi</td>
                <td>09/12/2024</td>
                <td>60</td>
                <td>58</td>
              </tr>
              <tr>
                <td>Anna Verdi</td>
                <td>08/12/2024</td>
                <td>40</td>
                <td>41</td>
              </tr>
              <tr>
                <td>Carla Neri</td>
                <td>07/12/2024</td>
                <td>55</td>
                <td>52</td>
              </tr>
              <tr>
                <td>Giorgio Esposito</td>
                <td>06/12/2024</td>
                <td>65</td>
                <td>63</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
